@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .smallcaps {
    font-variant: small-caps;
  }

  /* Links: blue with 1.5px underline */
  .link, .hover-link {
    @apply text-blue-700 dark:text-blue-400 underline decoration-[1.5px] underline-offset-2 decoration-blue-700/70 dark:decoration-blue-400/70 hover:text-blue-500 dark:hover:text-blue-300 hover:decoration-blue-500 dark:hover:decoration-blue-300;
  }

  /* External link icon (styles the ArrowTopRightOnSquareIcon component) */
  .external-link-icon {
    @apply inline-block w-[0.85em] h-[0.85em] ml-0.5 align-baseline opacity-80;
  }
}

@layer base {
  .prose table td {
    @apply p-1 align-top sm:p-2;
  }
  .prose table p,
  .prose table li {
    @apply mt-0 mb-0;
  }
  .prose figure table {
    @apply mt-5 mb-0;
  }
  .prose table ul > li,
  .prose table ol > li {
    @apply pl-0;
  }
  .prose table tr:hover td {
    @apply bg-slate-50 dark:bg-stone-800;
  }
  .prose table td dl {
    margin: 0;
  }
  .prose dt > strong {
    @apply font-bold text-blue-900 dark:text-blue-100;
  }
  .prose dd {
    @apply ml-8;
  }
  /* Keep inline images inside text flow from forcing line breaks */
  .article p img,
  .article table img,
  .article dd img,
  .prose p img,
  .prose table img,
  .prose dd img {
    margin: 0;
    display: inline-block;
    max-height: 1.2em;
    vertical-align: text-bottom;
  }
  article.content {
    min-height: calc(100vh);
  }
  .article {
    @apply prose break-words max-w-none prose-stone dark:prose-invert;
  }
}
